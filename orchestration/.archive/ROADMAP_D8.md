# D-8 로드맵 (2/8 → 2/16 데모)

> **전략: 기능 추가 0. 있는 것을 프로덕션 수준으로.**
> 체감 3가지: 기억 인용, 코칭→법정, 재판 재미

---

## 현재 달성 상태 (2/8 15:00 기준)

### TRACK A (백엔드 E2E) — 전부 완료
- [x] A1: 서버 기동 + 대화 E2E (40건 done)
- [x] A2: 기억 체감 (memory_hint 추출 + 인용 로직)
- [x] A3: 법정 체감 (코칭 서사, 넛지, 보너스)
- [x] A4: 재판 깊이 (변론 품질, 판결 비교, fallback)

### TRACK B (UI/UX) — 전부 완료
- [x] B1: RAZOR (3,267줄 → 506줄 + 29 컴포넌트)
- [x] B2: CSS 화이트화 (하드코딩 0개, 105+ CSS 변수)
- [x] B3: 컴포넌트 분리 (29개)
- [x] B4: UX 흐름 (타이핑 인디케이터, 스켈레톤, 온보딩)
- [x] B5: Polish (confetti, 반응형, 빈상태/에러상태)
- [x] 아레나 피드 리캡 가독성 개선
- [x] 캐릭터 교체 (PixelPet 젤리 크리처)

> A+B 모두 원래 8일 일정을 하루만에 완료. **이제부터 정교화.**

---

## 정교화 계획 (D-8 → D-0)

### 원칙
1. **기능 추가 금지** — 새 기능, 새 서비스, 새 DB 테이블, 새 모드 없음
2. **프로덕션급** — 글쓰기 품질, UI 가독성, 에지케이스 처리
3. **일관성** — 디자인 톤, 용어, UI 텍스트, AI 응답 톤 통일
4. **체감 우선** — 변경이 유저 체감으로 직결되어야 함
5. **점진적** — UI는 조금씩 완성도 있게

---

### 축 1: 글쓰기 품질 (writing-limbopet 세션)

**범위:** UI 텍스트 + AI 프롬프트 — 둘 다

#### 1-1. UI 텍스트 톤 통일
- 버튼 라벨: "보내기" vs "전송" → 통일
- 빈 상태 메시지: 톤 통일 (지금 제각각)
- 에러 메시지: 기술 용어 → 유저 친화적 한국어
- placeholder: 자연스러운 한국어
- 용어 통일: 경기/매치, 펫/에이전트, 코인/포인트 등

#### 1-2. AI 프롬프트 튜닝
- **대화 프롬프트** (PetBrainService.js)
  - 기억 인용이 자연스러운 대화체인지
  - 톤이 일관적인지 (반말? 존댓말? 캐릭터에 따라?)
  - memory_hint 추출 품질
- **법정 변론 프롬프트** (ProxyBrainService.js COURT_ARGUMENT)
  - 쟁점 2개 고정, facts 인용, statute 언급
  - 한국어 법률 용어 자연스러움
- **기억 관련** (MemoryService.js)
  - 주간 요약 품질
  - 기억 검색 정확도

---

### 축 2: 관전 체감 정교화 (ui-limbopet 세션)

**핵심 발견:** CourtBoard는 판결만 보여줌. LLM 생성 3라운드 변론은
Turn Timeline에 12px muted 텍스트로만 노출 → **재판 재미의 #1 병목**

#### 2-1. 재판 변론 가독성 (가장 중요)
- Turn Timeline의 변론 텍스트를 읽히게
- 12px muted → 적절한 크기 + 강조
- 라운드별 변론을 카드형으로 구조화
- 기존 CourtBoard 안에 변론 섹션 추가? 또는 Timeline 강화?

#### 2-2. 관전 UI 품질
- badge 남발 → 의미 있는 정보만 강조
- 승패 결과 배너 완성도
- 코칭 서사 노출 위치/스타일
- 예측/응원 UI 직관성

#### 2-3. 디자인 일관성 마무리
- 화이트 테마 전체 점검
- 간격/여백 통일
- 카드 계층감 확인

---

### 축 3: 실제 동작 검증 (codex-limbopet 새 세션 or 직접)

#### 3-1. 대화 E2E 검증
- 실제 LLM 연결 → 대화 3~5회
- memory_hint 추출 확인 (DB 조회)
- 4번째 대화에서 이전 대화 인용 확인
- "기억했어요!" 토스트 + 뱃지 동작 확인

#### 3-2. 코칭 → 아레나 E2E 검증
- 코칭 입력 → facts 저장 확인
- 아레나 매치 실행 → coaching_narrative 생성 확인
- 관전 UI에서 코칭 서사 노출 확인

#### 3-3. 온보딩 플로우 검증
- 신규 유저 시뮬 (로그인 → 펫 생성 → 두뇌 연결 → 첫 대화)
- 10분 이내 완료 가능한지
- 막히는 지점 파악 + 수정

---

## 일정

```
2/8  (오늘)   글쓰기 분석 완료 + writing 세션 지시 + 브라우저 확인
2/9           축1(글쓰기 실행) + 축2(관전 UI 착수)
2/10          축1(프롬프트 튜닝) + 축2(변론 가독성)
2/11          축3(E2E 검증 시작) + 축2(마무리)
2/12          축3(코칭→아레나 검증) + 발견 이슈 수정
2/13          전체 Polish + 에지케이스
2/14          에지케이스 + 반응형
2/15          데모 시나리오 + 런스루
2/16          내부 데모
```

---

## 세션 운영

| 세션 | 도구 | 담당 | 작업 |
|------|------|------|------|
| `writing-limbopet` | Claude Code | 글쓰기 | UI텍스트 톤 통일 + AI 프롬프트 튜닝 |
| `ui-limbopet` | Claude Code | UI 정교화 | 관전 UI 가독성 + 변론 노출 + 디자인 일관성 |
| `codex-limbopet` | Codex | E2E 검증 | 새 세션으로 교체 → 실제 동작 검증 |

---

## 알려진 이슈

| 이슈 | 심각도 | 영향 |
|------|--------|------|
| CourtBoard에 변론 텍스트 미노출 | 높음 | 재판 재미 #1 병목 |
| Turn Timeline 변론 12px로 안 읽힘 | 높음 | 관전 체감 저하 |
| memory_cited 휴리스틱 간혹 흔들림 | 중간 | 기억 인용 체감 |
| UI 텍스트 톤 불일관 | 중간 | 프로덕션 느낌 저하 |
| AI 프롬프트 한국어 품질 | 중간 | 대화/변론 자연스러움 |

---

## 데모 성공 기준 (2/16)

> DIRECTION.md 기준 — "유저가 느낀다"

1. **기억 인용**: 대화 3~5회 후, 다음 대화에서 과거 기억이 **대화체로** 인용
2. **법정 체감**: 코칭 있음/없음에서 결과 차이 + 코칭 서사 노출
3. **재판 재미**: COURT_TRIAL 관전 3분 이상 볼 수 있음 + 판결 비교 의미 있음
4. **온보딩**: 신규 유저 10분 이내 "두뇌 연결 → 첫 대화 → 첫 관전"

---

## 금지

- 새 기능, 새 서비스, 새 DB 테이블, 새 아레나 모드
- 동결 기능 건드리기
- "나중에 하면 좋겠다"를 코드로 만들기
- 기능 늘리기 (넓히지 말고 깊게)

**"코드 있음" ≠ 완료. "와 이거 뭐야" = 완료.**
