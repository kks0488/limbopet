# LIMBOPET 실행 계획 v0.6 (Easy / Minimal Human / Addictive + BYOK)

작성일: 2026-02-03

## 0) 한 줄

“로그인 → (1회) 펫 만들기 → (1회) 내 AI 연결(BYOK) → 이후엔 거의 관전만 해도 AI들이 ‘연재 드라마 사회’를 굴린다.”

> 핵심: **유저 펫의 지능은 유저 계정(BYOK)으로만**. 플랫폼 AI(프록시)는 **NPC/자동 운영**에만 사용.

---

## 1) 불변 목표 3개(우선순위)

1. **쉬워야 한다**  
   초보자 기준 “모르면 그냥 눌러도 되는” 5분 온보딩.
2. **인간 개입 최소화**  
   기본은 로그인 + 1회 세팅, 이후엔 관전/투표/넛지만.
3. **중독성(연재감)**  
   매일 “오늘의 방송(하이라이트+예고)”이 자동으로 생성되고, 다음 화가 궁금해야 한다.

---

## 2) North Star UX (초보자 기준)

### 2-1. 첫 5분(온보딩)

1) Google 로그인  
2) 펫 이름/한 줄 소개 → 생성(유저당 1마리)  
3) “내 AI 연결” (1회)  
   - OpenAI / Claude / Gemini / Grok / OpenAI-compatible(프록시) 중 선택
   - 모델/키 입력(또는 프록시 URL) → 연결 테스트
4) 바로 메인: **오늘의 방송 3줄 + 예고 1줄 + 투표 1개**

### 2-2. 이후 하루 2분(기본 플레이)

- 홈(상단 고정): “오늘의 방송” 카드
- 유저 행동(최소):
  - 여론 투표 1번(선택)
  - 림보룸 중력 메모 1줄(선택)
  - 펫 액션 4버튼(선택)

---

## 3) 시스템 원칙(대형으로 가기 위한 규칙)

1) **State is truth**: 스탯/쿨다운/경제/관계치는 서버 규칙이 진실  
2) **LLM writes words**: LLM은 대사/일기/요약 “문장만” 생성(JSON 강제)  
3) **Memory is layered**: 이벤트 원본 + 요약 + 사실 + 관계/소문/증거를 분리  
4) **BYOK-first**: 유저 펫의 LLM 호출은 유저 계정으로만. 플랫폼 프록시는 NPC/운영용.

---

## 4) BYOK(유저 지능) 설계 v0.6

### 4-1. 초보자 친화 “서버 대리 호출(유저 키)” 방식(권장)

- 유저가 “내 AI 연결”에서 **본인 키/토큰**을 입력
- 서버는 키를 **암호화해서 저장**(반드시 별도 시크릿 키로 at-rest 암호화)
- 서버 Brain Worker가 유저 펫의 `brain_jobs`를 처리(비용은 유저 계정)

장점
- 초보자도 설치/실행 없이 바로 “펫이 말한다/일기 쓴다/림보룸 요약”이 됨

주의(보안/신뢰)
- 키를 저장하는 대신:
  - 키는 절대 로그/응답에 노출하지 않기
  - 유저가 언제든 연결 해제/삭제 가능
  - 운영/키 관리 책임이 생기므로 최소 기능부터 단계적으로

### 4-2. 고급(추후): 유저 프록시 / 로컬 브레인

- 유저 프록시: Cloudflare Worker 등 유저가 만든 프록시 URL을 서버에 등록(키는 유저가 보관)
- 로컬 브레인: `apps/brain` 런너로 poll/submit(개발자/파워유저용)

---

## 5) “재미가 자동으로 나오는” 쇼러너 구조

### 5-1. 고정 포맷(폭주 방지)

- 하루 3 슬롯(출근/점심/밤) 중 1~3개 자동 생성
- 슬롯당 “카드 5장”만:
  1) 불씨(사건)
  2) 확산(소문)
  3) 당사자 반응
  4) 권력/중재 개입
  5) 다음화 예고

### 5-2. NPC 16마리(시드) + MBTI 라벨

- MBTI는 **라벨(UI/밈)**, 실제 행동은 성향 벡터/룰 기반
- 역할 분업(기자/인사/상사/소문꾼/중재자/코믹/상인/감사…)

---

## 6) 메모리(“최강” 기준) v0.6

### 6-1. 저장 계층(필수)

- `events`: CCTV(append-only)  
- `memories`: 림보룸 요약(데일리/위클리)  
- `facts`: 선호/금기/MBTI/프로필(출처 event_id 원칙)  
- `relationships`: 호감/신뢰/질투/경쟁/빚(약점)  
- `rumors` + `evidence_tokens` + `rumor_spread`: 소문/증거/전파

### 6-2. “기억이 행동을 바꾸는” 최소 룰

- 소문이 증거 레벨(0→3) 오르면:
  - 관계치(신뢰/질투/경쟁) 변화가 발생
  - 다음 쇼러너 슬롯의 사건 가중치가 바뀜
- 림보룸 요약이 생성되면:
  - “내일 하고 싶은 것(목표 1줄)”이 facts로 반영(약한 목표)
- 유저 넛지(중력 메모)는:
  - facts에 저장되고, 대사/일기 프롬프트에 제한적으로 주입

---

## 7) UI v0.6 (심플 우선)

### 7-1. 하단 5탭(모바일 퍼스트)

- `펫` / `림보룸` / `광장` / `소문` / `설정`

> “증거판”은 용어/구조가 어렵다면, UI 라벨을 **“소문”**으로 단순화하고  
> 내용도 “오늘의 소문 1개 + 단서(증거) 0~3” 중심으로 최소화한다.

### 7-2. 메인 고정 카드(중독 장치)

- 어디서든 상단에 “오늘의 방송(하이라이트+예고)” 카드 고정

---

## 8) 구현 우선순위(이번 스프린트)

### P0 (반드시): BYOK 연결 + 라우팅

- 유저 BYOK 연결(Provider/Model/BaseURL/Key) 저장/삭제
- Brain Worker가:
  - NPC/운영 잡 → 플랫폼 프록시(옵션)
  - 유저 펫 잡 → 유저 BYOK로만 처리

### P1: 증거판(소문) UI 단순화

- 시나리오 코드/전파 로그 숨김
- “오늘의 소문” 카드 + 단서 리스트 + 다음화 예고만

### P2: 개발 시뮬레이션 강화(실데이터)

- 기다림 없이:
  - 에피소드 N개 생성
  - (dev-only) 유저 30명/펫 생성

---

## 9) 정의(완성 조건)

- 로그인 후 10초 내 “오늘의 방송”이 보임
- 펫 생성 후 1회 BYOK 연결하면:
  - 대화/일기/림보룸 요약이 자동으로 생성됨(5~30초)
- 유저가 하루 0회 액션을 해도:
  - 광장/소문이 계속 갱신되고, 내일 예고가 남음

